<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Study Sprint Tracker</title>
    <!-- <link rel="stylesheet" href="style3.css"/> -->
    <!-- <link rel="stylesheet" href="rn.css"/> -->

    <!-- <link rel="stylesheet" href="a.css" /> -->
    <style>
      /* ==================================================================
 /* ==================================================================
   [Section 01] ‚Üí Import Google Fonts 
   Fonts: Inter (Body), Orbitron (Headings), Poppins (Optional fallback)
   ================================================================== */
      @import url("https://fonts.googleapis.com/css2?family=Inter&family=Orbitron:wght@600&family=Poppins:wght@500&display=swap");
      /* ================================================================== */

      /* ==================================================================
   [Section 02] ‚Üí Base Reset Styles
   ================================================================== */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      /* Smooth scroll behavior */
      html {
        scroll-behavior: smooth;
      }

      /* Body Styling: Dark Theme + Center Layout */
      body {
        background-color: #121212;
        /* Optional grid texture ‚Äî comment/uncomment below */
        /* background-image: radial-gradient(circle, rgba(255,255,255,0.03) 1px, transparent 1px);
     background-size: 30px 30px; */
        font-family: "Inter", sans-serif;
        color: #ffffff;
        min-height: 100vh;
        padding: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow-x: hidden;
        position: relative;
        z-index: 0;
      }
      /* ================================================================== */

      /* ================================================================== */

      /* ==================================================================
  /* ==================================================================
   [Section 03] ‚Üí Scrollbar Styles
   Purpose: Neon-themed custom scroll for better UX
   ================================================================== */

      /* Width of the scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }

      /* Track area */
      ::-webkit-scrollbar-track {
        background: #1e1e1e;
        box-shadow: inset 0 0 4px rgba(0, 255, 255, 0.1);
      }

      /* Scroll thumb (draggable part) */
      ::-webkit-scrollbar-thumb {
        background: #00ffff;
        border-radius: 10px;
        transition: background 0.3s ease;
      }

      /* On hover effect */
      ::-webkit-scrollbar-thumb:hover {
        background: #00ffffcc;
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 4] ‚Üí Animations
   ================================================================== */
      @keyframes fadeIn {
        0% {
          opacity: 0;
          transform: scale(0.95);
        }
        100% {
          opacity: 1;
          transform: scale(1);
        }
      }
      @keyframes pulseGlow {
        0% {
          box-shadow: 0 0 5px #00ffff;
        }
        50% {
          box-shadow: 0 0 15px #00ffff;
        }
        100% {
          box-shadow: 0 0 5px #00ffff;
        }
      }
      @keyframes blinkPause {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }
      @keyframes pulseRunning {
        0% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.6;
          transform: scale(1.05);
        }
        100% {
          opacity: 1;
          transform: scale(1);
        }
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 5] ‚Üí Fullscreen Toggle Button
   ================================================================== */
      #fullscreen-btn {
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: #00bcd4;
        color: #fff;
        padding: 10px 15px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        z-index: 1001;
        box-shadow: 0 0 8px #00ffff;
        transition: opacity 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
      }
      #fullscreen-btn:hover {
        background-color: #00ffff;
        color: #121212;
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 0 12px #00ffff, 0 0 24px #00ffff;
      }
      #fullscreen-btn.hidden {
        opacity: 0;
        pointer-events: none;
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 6] ‚Üí Fullscreen Overlay
   ================================================================== */
      #fullscreen-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        height: 100vh;
        width: 100vw;
        background-color: #121212;
        z-index: 999;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        color: #00ffff;
        text-align: center;
        animation: fadeIn 0.6s ease-in-out;
      }
      #fullscreen-overlay.show {
        display: flex;
      }
      #fullscreen-overlay h1 {
        font-size: 3rem;
        margin-bottom: 20px;
        font-family: "Orbitron", sans-serif;
      }
      #fullscreen-timer {
        font-size: 4rem;
        font-weight: bold;
        letter-spacing: 2px;
      }
      /* ================================================================== */

      /* ==================================================================
  /* ==================================================================
   [Section 07] ‚Üí Fullscreen Title & Timer Styling
   Purpose: Clean, glowing central title and timer for fullscreen mode
   ================================================================== */

      #fullscreen-title {
        color: #00ffff;
        font-size: 2.5rem;
        margin-bottom: 1.2rem;
        font-family: "Orbitron", sans-serif;
        font-weight: 700;
        letter-spacing: 1.2px;
        text-shadow: 0 0 12px #00ffff, 0 0 24px #00ffff33;
      }

      #fullscreen-timer {
        color: #ffffff;
        font-size: 3.8rem;
        font-weight: 800;
        letter-spacing: 2.5px;
        text-shadow: 0 0 15px #ffffff, 0 0 25px #ffffff55;
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 08] ‚Üí Fullscreen Controls
   Purpose: Floating pause/resume buttons with neon-glow effect
   ================================================================== */

      #fullscreen-controls {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1002;
        display: flex;
        gap: 12px;
        transition: opacity 0.3s ease;
      }

      #fullscreen-controls.hidden {
        opacity: 0;
        pointer-events: none;
      }

      #fullscreen-controls button {
        padding: 10px 16px;
        font-size: 1rem;
        font-weight: 600;
        border: none;
        border-radius: 8px;
        background-color: rgba(0, 188, 212, 0.9);
        color: #ffffff;
        cursor: pointer;
        box-shadow: 0 0 12px #00ffff99, 0 0 20px rgba(0, 255, 255, 0.2);
        transition: all 0.3s ease;
        backdrop-filter: blur(4px);
        text-shadow: 0 0 6px #00ffffaa;
      }

      #fullscreen-controls button:hover {
        background-color: #00ffff;
        color: #121212;
        transform: scale(1.05);
        box-shadow: 0 0 18px #00ffff, 0 0 36px #00ffff66;
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 09] ‚Üí Pause Message
   Purpose: Blinking neon-red alert when paused (center stage)
   ================================================================== */

      #pause-message {
        font-size: 3rem;
        color: #ff4d4d;
        margin-bottom: 24px;
        text-align: center;
        display: none;
        animation: blinkPause 1.2s infinite ease-in-out;
        font-weight: 800;
        letter-spacing: 2px;
        text-shadow: 0 0 6px #ff4d4d, 0 0 12px #ff4d4d, 0 0 24px #ff0000,
          0 0 40px #ff1a1a, 0 0 60px #ff1a1a;
        user-select: none;
        max-width: 90vw;
        margin-left: auto;
        margin-right: auto;
      }

      /* üì± Mobile-Friendly Adjustments */
      @media (max-width: 480px) {
        #pause-message {
          font-size: 1.4rem;
          margin-bottom: 15px;
          padding: 0;
        }
      }

      /* ================================================================== */

      /* ==================================================================
   [Section 10] ‚Üí Container Styles
   Purpose: Central content box with glassmorphic neon glow effect
   ================================================================== */

      .container {
        width: 100%;
        max-width: 960px; /* Responsive container width */
        margin: 0 auto;
        background-color: rgba(30, 30, 30, 0.75);
        backdrop-filter: blur(14px);
        padding: 32px;
        border-radius: 18px;

        /* Outer Glow + Inner Edge */
        box-shadow: 0 0 20px rgba(0, 255, 255, 0.15),
          inset 0 0 4px rgba(0, 255, 255, 0.2);

        border: 1px solid rgba(0, 255, 255, 0.25);
        animation: fadeIn 0.6s ease-in-out;

        position: relative;
        z-index: 1;
      }

      @media (max-width: 480px) {
        .container {
          padding: 20px;
        }
      }

      /* ================================================================== */

      /* ==================================================================
   [Section 11] ‚Üí Headings
   Purpose: Futuristic but subtle heading styles (clean neon)
   ================================================================== */

      /* üåê Common base */
      h1,
      h2 {
        text-align: center;
        font-family: "Orbitron", sans-serif;
        color: #00e0e0;
        letter-spacing: 1px;
        margin-bottom: 20px;
        text-shadow: 0 0 2px #00e0e0, 0 0 4px rgba(0, 255, 255, 0.4);
      }

      /* üî∑ h1 - Section Title */
      h1 {
        font-size: 2.2rem;
        font-weight: 600;
      }

      /* üîπ h2 - Subsection Title */
      h2 {
        font-size: 1.6rem;
        font-weight: 500;
        color: #66ffff;
        text-shadow: 0 0 1px #66ffff, 0 0 3px rgba(102, 255, 255, 0.3);
      }

      /* üì± Mobile responsiveness */
      @media (max-width: 480px) {
        h1 {
          font-size: 1.6rem;
        }
        h2 {
          font-size: 1.3rem;
        }
      }

      /* ================================================================== */

      /* ==================================================================
   [Section 12] ‚Üí Timer Display
   Purpose: Modern, clear and responsive sprint time blocks
   ================================================================== */

      .timer-section {
        margin-bottom: 30px;
      }

      /* üöÄ Time block design */
      .time-block {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 10px;
        padding: 14px 18px;
        margin: 12px 0;
        border-radius: 12px;
        background: linear-gradient(135deg, #222, #2c2c2c);
        border: 1px solid rgba(0, 255, 255, 0.15);
        box-shadow: inset 0 0 4px rgba(0, 255, 255, 0.1),
          0 0 8px rgba(0, 255, 255, 0.1);
        font-size: 1.6rem;
        color: #e0f7fa;
        transition: transform 0.2s ease, box-shadow 0.3s ease;
      }

      /* ‚ú® On hover ‚Äì minor lift */
      .time-block:hover {
        transform: scale(1.02);
        box-shadow: inset 0 0 6px rgba(0, 255, 255, 0.2),
          0 0 12px rgba(0, 255, 255, 0.2);
      }

      /* üß† Responsive tuning */
      @media (max-width: 480px) {
        .time-block {
          flex-direction: column;
          text-align: center;
          font-size: 1.3rem;
          padding: 12px 14px;
        }
      }

      /* ================================================================== */

      /* ==================================================================
   [Section 13] ‚Üí Progress Bar
   Purpose: Futuristic gradient + glowing progress indicator
   ================================================================== */

      /* üî≤ Wrapper: Glass effect base track */
      .progress-bar-wrapper {
        width: 100%;
        height: 12px;
        margin-top: 12px;
        background: rgba(51, 51, 51, 0.7);
        border-radius: 30px;
        overflow: hidden;
        box-shadow: inset 0 0 5px rgba(0, 255, 255, 0.1);
        backdrop-filter: blur(4px);
      }

      /* üöÄ Animated Progress Fill */
      .progress-bar {
        height: 100%;
        width: 0%;
        background: linear-gradient(to right, #00ffff, #00ff99);
        transition: width 0.4s ease-in-out;
        animation: progressPulse 2s infinite ease-in-out;
        box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        border-radius: 30px;
      }

      /* ‚ú® Glow Pulse Animation */
      @keyframes progressPulse {
        0% {
          box-shadow: 0 0 6px rgba(0, 255, 255, 0.2);
        }
        50% {
          box-shadow: 0 0 12px rgba(0, 255, 255, 0.4);
        }
        100% {
          box-shadow: 0 0 6px rgba(0, 255, 255, 0.2);
        }
      }

      /* ================================================================== */
      /* ==================================================================
   [Section 14] ‚Üí Sprint Input Section (Ultra Pro+ Optimized)
   ================================================================== */

      /* üß± Layout Flex Wrap */
      .sprint-setup {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 16px;
        margin-bottom: 26px;
        padding: 10px;
      }

      /* ‚å®Ô∏è Time Inputs with glass blur and glow */
      .sprint-setup input {
        width: 72px;
        padding: 12px;
        font-size: 1.05rem;
        text-align: center;
        border: none;
        border-radius: 10px;
        color: #ffffff;
        background: rgba(0, 255, 255, 0.06);
        backdrop-filter: blur(4px);
        box-shadow: inset 0 0 6px rgba(0, 255, 255, 0.2),
          0 0 4px rgba(0, 255, 255, 0.15);
        transition: 0.3s ease all;
      }

      .sprint-setup input:focus {
        outline: none;
        background-color: rgba(0, 255, 255, 0.1);
        box-shadow: 0 0 10px #00ffff, inset 0 0 10px #00ffff;
        border: 1px solid #00ffff;
      }

      /* üöÄ Sprint Start Button - Gradient + Neon Glow */
      .sprint-setup button {
        padding: 14px 26px;
        font-size: 1rem;
        font-weight: 700;
        border: none;
        border-radius: 12px;
        color: #121212;
        background: linear-gradient(135deg, #00e5ff, #00ffb3);
        box-shadow: 0 0 10px #00ffff99, 0 0 18px #00ffff33;
        cursor: pointer;
        transition: all 0.25s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
        z-index: 1000000;
      }

      .sprint-setup button:hover {
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 0 20px #00ffff, 0 0 40px #00ffcc66;
        background: linear-gradient(135deg, #00ffff, #00e5ff);
        color: #121212;
      }

      /* ================================================================== */

      /* ==================================================================
   [Section 15] ‚Üí Controls Section (Ultimate GlowGlass Edition üö®)
   ================================================================== */

      .controls {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        gap: 18px;
        margin: 28px 0;
        padding: 12px;
      }

      /* ‚ú® Button: Glassy Background + Rainbow Glow + Smooth Border */
      .controls button {
        padding: 14px 28px;
        font-size: 1.05rem;
        font-weight: 600;
        border: none;
        border-radius: 14px;
        cursor: pointer;
        background: rgba(20, 20, 20, 0.6);
        backdrop-filter: blur(10px);
        color: #e0ffff;
        border: 1px solid rgba(0, 255, 204, 0.3);
        box-shadow: 0 0 6px rgba(0, 255, 255, 0.3),
          inset 0 0 4px rgba(0, 255, 255, 0.1), 0 0 20px rgba(0, 255, 255, 0.05);
        transition: all 0.3s ease;
        position: relative;
        text-transform: uppercase;
        letter-spacing: 0.8px;
        z-index: 1;
      }

      /* üßä Hover Effect: Aqua Glow + Depth Pop */
      .controls button:hover {
        background: rgba(0, 255, 204, 0.15);
        color: #ff69b4; /* Hot Pink */
        transform: translateY(-2px) scale(1.07);
        box-shadow: 0 0 12px #ff69b4, 0 0 24px rgba(255, 105, 180, 0.4),
          0 0 32px rgba(255, 105, 180, 0.1);
      }

      /* ‚ö° Active/Selected Button */
      .active-button {
        background: linear-gradient(to right, #00fff0, #00c9ff);
        color: #121212 !important;
        box-shadow: 0 0 18px #00fff0, 0 0 28px rgba(0, 255, 255, 0.5);
        transform: scale(1.1);
        border: none !important;
      }

      .controls button::after {
        content: "";
        position: absolute;
        top: -10px;
        left: -10px;
        width: calc(100% + 20px);
        height: calc(100% + 20px);
        background: radial-gradient(
          circle,
          rgba(0, 255, 255, 0.15) 0%,
          transparent 70%
        );
        opacity: 0;
        transition: opacity 0.3s;
        border-radius: 20px;
        z-index: -1;
      }
      .controls button:hover::after {
        opacity: 1;
      }

      .controls button {
        animation: controlPulse 4s infinite ease-in-out;
      }

      @keyframes controlPulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.03);
        }
      }

      /* ================================================================== */

      /* ================================================================== */
      /* ==================================================================
   [Section 17] ‚Üí Status Display
   ================================================================== */
      .status-display {
        background: rgba(255, 255, 255, 0.04);
        padding: 16px 20px;
        border-radius: 12px;
        border: 1px solid rgba(0, 255, 255, 0.12);
        box-shadow: 0 0 10px rgba(0, 255, 255, 0.05);
        backdrop-filter: blur(8px);
      }

      .status-display p {
        margin: 10px 0;
        padding: 10px 14px;
        border-radius: 8px;
        font-size: 1rem;
        background-color: rgba(42, 42, 42, 0.9);
        color: #eee;
        font-family: "Inter", sans-serif;
        letter-spacing: 0.5px;
        transition: background 0.3s ease;
      }

      .status-display .status-true {
        color: #00ffae;
        font-weight: bold;
        text-shadow: 0 0 6px #00ffae;
        border-left: 4px solid #00ffae;
      }

      .status-display .status-false {
        color: #ff4d6d;
        font-weight: bold;
        text-shadow: 0 0 6px #ff4d6d;
        border-left: 4px solid #ff4d6d;
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 18] ‚Üí Log Section
   ================================================================== */
      .log-section {
        margin-top: 30px;
        background: rgba(0, 255, 255, 0.03);
        padding: 16px;
        border-radius: 12px;
        border: 1px solid rgba(0, 255, 255, 0.1);
        box-shadow: 0 0 10px rgba(0, 255, 255, 0.04);
        backdrop-filter: blur(8px);
      }

      #log-list {
        list-style: none;
        padding: 0;
        margin-top: 12px;
        max-height: 300px;
        overflow-y: auto;
        scrollbar-width: thin;
      }

      #log-list li {
        display: flex;
        justify-content: space-between;
        padding: 10px 14px;
        margin-bottom: 8px;
        background-color: rgba(37, 37, 37, 0.95);
        border-left: 4px solid #00ffff;
        border-radius: 8px;
        font-size: 1rem;
        color: #e0e0e0;
        font-family: "Inter", sans-serif;
        letter-spacing: 0.4px;
        transition: background 0.3s ease, transform 0.2s ease;
      }

      #log-list li:hover {
        background-color: #2e2e2e;
        transform: scale(1.01);
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 19] ‚Üí Analytics Section
   ================================================================== */
      .analytics {
        margin-top: 30px;
      }
      .analytics h2 {
        color: #00ffff;
        text-align: center;
        margin-bottom: 10px;
      }
      #analytics-list {
        list-style: none;
        padding: 0;
        margin: 0 auto;
        max-width: 400px;
      }
      #analytics-list li {
        display: flex;
        justify-content: space-between;
        padding: 8px 10px;
        background-color: #2a2a2a;
        border-radius: 6px;
        margin-bottom: 5px;
        font-size: 0.95rem;
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 20] ‚Üí Popup Notes
   ================================================================== */
      .popup.hidden {
        display: none;
      }

      .popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(30, 30, 30, 0.95);
        padding: 25px 22px;
        border-radius: 16px;
        box-shadow: 0 0 25px #00ffff, 0 0 10px #00ffff inset;
        z-index: 10000;
        width: 90%;
        max-width: 420px;
        text-align: center;
        animation: fadeIn 0.5s ease-in-out;
        border: 1px solid rgba(0, 255, 255, 0.15);
        backdrop-filter: blur(8px);
      }

      .popup textarea {
        width: 100%;
        height: 120px;
        padding: 12px;
        background: #1e1e1e;
        border: 1px solid rgba(0, 255, 255, 0.1);
        border-radius: 10px;
        color: #ffffff;
        font-size: 1rem;
        font-family: "Inter", sans-serif;
        resize: none;
        box-shadow: 0 0 8px rgba(0, 255, 255, 0.15);
      }

      .popup textarea:focus {
        border: 1px solid #00ffff;
        box-shadow: 0 0 12px #00ffff;
        outline: none;
      }

      .popup button {
        padding: 10px 20px;
        margin-top: 12px;
        border: none;
        border-radius: 10px;
        background: linear-gradient(to right, #00ffff, #00bcd4);
        color: #121212;
        font-weight: bold;
        cursor: pointer;
        font-size: 1rem;
        box-shadow: 0 0 8px #00ffff;
        transition: all 0.3s ease;
      }

      .popup button:hover {
        background: linear-gradient(to right, #ff66cc, #ff99ff);
        color: #ffffff;
        box-shadow: 0 0 15px #ff66cc, 0 0 25px #ff99ff;
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 21] ‚Üí Title Input Section
   ================================================================== */
      .title-setup {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 12px;
        margin: 24px 0;
        flex-wrap: wrap;
        padding: 0 10px;
      }

      .title-setup input {
        padding: 12px 16px;
        width: clamp(200px, 30%, 320px);
        font-size: 1rem;
        border: none;
        border-radius: 10px;
        background-color: #1e1e1e;
        color: #ffffff;
        box-shadow: 0 0 6px rgba(0, 255, 255, 0.3);
        transition: all 0.3s ease;
        border: 1px solid rgba(0, 255, 255, 0.15);
      }

      .title-setup input::placeholder {
        color: #888;
        font-style: italic;
      }

      .title-setup input:focus {
        outline: none;
        border: 1px solid #00ffff;
        box-shadow: 0 0 12px #00ffff;
      }

      .title-setup button {
        padding: 12px 20px;
        border: none;
        border-radius: 10px;
        background: linear-gradient(to right, #00ffff, #00bcd4);
        color: #121212;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        box-shadow: 0 0 10px #00ffff;
        transition: all 0.3s ease;
      }

      .title-setup button:hover {
        background: linear-gradient(to right, #ff66cc, #ff99ff);
        color: #ffffff;
        transform: scale(1.06);
        box-shadow: 0 0 15px #ff66cc, 0 0 25px #ff99ff;
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 22] ‚Üí Responsive Layout
   ================================================================== */
      @media (max-width: 768px) {
        .container {
          max-width: 92vw;
          padding: 20px;
        }

        .controls,
        .sprint-setup,
        .title-setup {
          flex-direction: column;
          align-items: stretch;
        }

        .sprint-setup input,
        .sprint-setup button,
        .title-setup input,
        .title-setup button,
        .controls button {
          width: 100%;
          font-size: 1rem;
          padding: 12px;
        }
      }

      @media (max-width: 480px) {
        h1,
        h2 {
          font-size: 1.4rem;
        }

        #fullscreen-overlay h1 {
          font-size: 1rem;
        }

        #fullscreen-timer {
          font-size: 2.2rem;
        }

        .time-block {
          font-size: 1.1rem;
          flex-direction: column;
          text-align: center;
          padding: 8px;
        }

        .popup textarea {
          height: 70px;
        }

        #fullscreen-btn {
          padding: 8px 10px;
          font-size: 0.85rem;
        }

        #running-message {
          font-size: 1.1rem;
          margin-bottom: 8px;
        }

        .progress-bar-wrapper {
          height: 8px;
        }

        .controls button {
          font-size: 0.95rem;
        }
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 23] ‚Üí Running Motivational Message
   ================================================================== */
      #running-message {
        font-size: 1.8rem;
        color: #ff69b4; /* Soft neon pink for fresh look */
        margin-bottom: 20px;
        text-align: center;
        display: none;
        font-family: "Orbitron", sans-serif;
        text-shadow: 0 0 5px #ff69b4, 0 0 10px #ff69b4, 0 0 15px #ff1493;
        animation: pulseRunning 2s infinite;
        letter-spacing: 1px;
        user-select: none;
        line-height: 1.4;
        max-width: 90vw;
        margin-left: auto;
        margin-right: auto;
      }

      @media (max-width: 480px) {
        #running-message {
          font-size: 1.2rem;
          margin-bottom: 12px;
        }
      }
      /* ================================================================== */

      /* ==================================================================
   
/* ==================================================================
 /* ==================================================================
/* ==================================================================
  /* [Section 24] ‚Üí Sprint Toast
   ================================================================== */
      #sprint-toast {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: rgba(20, 20, 20, 0.85); /* frosted dark */
        backdrop-filter: blur(12px);
        color: #f2f2f2;
        padding: 14px;
        border-radius: 12px;
        font-size: 0.9rem;
        font-weight: 600;
        z-index: -1; /* Initially behind other elements */
        box-shadow: inset 0 0 8px rgba(0, 255, 255, 0.08),
          0 0 18px rgba(0, 255, 255, 0.25);
        opacity: 0;
        visibility: hidden; /* Hide toast initially */
        flex-direction: column;
        max-width: 95vw;
        width: 430px;
        max-height: 250px;
        overflow: hidden;
        text-align: left;
        text-shadow: 0 0 2px #000;
        line-height: 1.5;
        word-wrap: break-word;
        white-space: normal;
        transform: scale(0.96);
        border: 1px solid rgba(0, 255, 255, 0.15);
        pointer-events: none; /* Disable interaction when hidden */
      }

      #sprint-toast.show {
        opacity: 1;
        visibility: visible; /* Make the toast visible when it's shown */
        bottom: 30px;
        transform: scale(1);
        z-index: 9999; /* Bring to front when visible */
        pointer-events: auto; /* Enable interaction when visible */
        display: flex; /* Display as flex when shown */
        transition: opacity 0.4s ease, bottom 0.4s ease, transform 0.4s ease;
      }

      /* ‚úÖ Sticky Close Button */
      #sprint-toast-close {
        position: absolute;
        top: 6px;
        right: 10px;
        background: transparent;
        border: none;
        color: #ccc;
        font-size: 1.3rem;
        cursor: pointer;
        font-weight: bold;
        z-index: 10001;
        transition: color 0.3s ease;
      }

      #sprint-toast-close:hover {
        color: #ff69b4;
        text-shadow: 0 0 6px #ff69b4;
      }

      /* ‚úÖ Scrollable Toast Message */
      #sprint-toast-message {
        margin-top: 28px;
        overflow-y: auto;
        max-height: 190px;
        padding-right: 6px;
        white-space: normal;
        font-size: 0.9rem;
        line-height: 1.5;
      }

      /* ‚úÖ Webkit Scrollbar */
      #sprint-toast-message::-webkit-scrollbar {
        width: 6px;
      }
      #sprint-toast-message::-webkit-scrollbar-thumb {
        background-color: #00cccc;
        border-radius: 4px;
      }

      /* ‚úÖ Mobile Responsive */
      @media (max-width: 600px) {
        #sprint-toast {
          bottom: 12px;
          left: 50%;
          right: auto;
          transform: translateX(-50%) scale(0.96);
          width: 94%;
          max-height: 37vh;
          padding: 14px 12px;
          font-size: 0.75rem;
          display: flex;
          flex-direction: column;
          overflow: hidden; /* Prevent full screen overflow */
          pointer-events: none; /* Disable interaction when not visible */
        }

        #sprint-toast.show {
          bottom: 12px;
          transform: translateX(-50%) scale(1);
          pointer-events: auto; /* Enable interaction when visible */
        }

        #sprint-toast-message {
          flex: 1;
          overflow-y: auto;
          max-height: 100%;
          font-size: 0.75rem;
          line-height: 1.45;
          padding-right: 4px;
          pointer-events: auto; /* Ensure scrolling works */
        }

        #sprint-toast-close {
          font-size: 1.1rem;
          pointer-events: auto;
          top: 4px;
          right: 8px;
        }
      }

      /* üåü Toast Inner Styling Classes */
      .toast-title {
        color: #ffffff;
        font-size: 1.05rem;
        font-weight: 700;
        text-shadow: 0 0 6px #ffffffaa, 0 0 12px #00ffff;
        margin-bottom: 6px;
      }

      .toast-label {
        color: #ffa500;
        font-weight: 600;
        text-shadow: 0 0 5px rgba(255, 165, 0, 0.4);
      }

      .toast-time {
        color: #00eaff;
        font-weight: 500;
        text-shadow: 0 0 5px #00ffff66;
      }

      .toast-break {
        color: #ff66cc;
        font-weight: 500;
        text-shadow: 0 0 6px #ff66ccaa;
      }

      .toast-focus {
        color: #ffd700;
        font-weight: 700;
        letter-spacing: 1px;
        text-shadow: 0 0 6px #ffd700aa;
        font-family: "Orbitron", sans-serif;
        margin-top: 4px;
      }

      .toast-success {
        color: #39ff14;
        font-weight: bold;
        text-shadow: 0 0 5px #39ff1488;
        font-family: "Orbitron", sans-serif;
        margin-top: 6px;
      }

      /* ================================================================== */

      /* ================================================================== */

      /* ==================================================================
   [Section 25] ‚Üí üïò Sprint History Section (Neon Glass UI)
   ================================================================== */
      .sprint-history {
        margin-top: 40px;
        padding: 24px 28px;
        background: rgba(0, 255, 255, 0.05);
        border-radius: 20px;
        box-shadow: 0 0 25px rgba(0, 255, 255, 0.15),
          0 8px 30px rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(14px);
        border: 1px solid rgba(0, 255, 255, 0.2);
        color: #e0f7fa;
        font-family: "Segoe UI", sans-serif;
        animation: fadeIn 0.6s ease-in-out;
        transition: all 0.4s ease;
      }

      .sprint-history:hover {
        box-shadow: 0 0 40px rgba(0, 255, 255, 0.3),
          0 12px 35px rgba(0, 0, 0, 0.6);
        transform: translateY(-4px);
      }

      .sprint-history h2 {
        margin-bottom: 18px;
        font-size: 1.8rem;
        color: #00ffff;
        text-shadow: 0 0 8px #00e5ff, 0 0 15px rgba(0, 255, 255, 0.3);
        border-bottom: 1px solid rgba(0, 255, 255, 0.2);
        padding-bottom: 6px;
        font-family: "Orbitron", sans-serif;
        letter-spacing: 1px;
      }

      @media (max-width: 480px) {
        .sprint-history {
          padding: 18px;
        }
        .sprint-history h2 {
          font-size: 1.5rem;
        }
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 25.1] ‚Üí Scrollable List Container (Enhanced Neon Style)
   ================================================================== */
      #sprint-history-list {
        list-style: none;
        padding: 0;
        margin: 0;
        max-height: 320px;
        overflow-y: auto;
        scrollbar-width: thin;
        scrollbar-color: #00ffff #1e1e1e;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.02);
        box-shadow: inset 0 0 8px rgba(0, 255, 255, 0.08);
        padding-right: 8px;
      }

      #sprint-history-list::-webkit-scrollbar {
        width: 8px;
      }

      #sprint-history-list::-webkit-scrollbar-track {
        background: #1e1e1e;
        border-radius: 10px;
      }

      #sprint-history-list::-webkit-scrollbar-thumb {
        background: #00ffff;
        border-radius: 10px;
        box-shadow: inset 0 0 5px #00ffff;
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 25.2] ‚Üí üî∑ Date Headers (Enhanced Neon Tab)
   ================================================================== */
      #sprint-history-list .date-header {
        background: linear-gradient(
          90deg,
          rgba(0, 229, 255, 0.08),
          rgba(0, 229, 255, 0)
        );
        border-left: 5px solid #00e5ff;
        padding: 10px 16px;
        border-radius: 10px;
        margin: 20px 0 12px;
        font-weight: 700;
        color: #00e5ff;
        text-shadow: 0 0 6px rgba(0, 229, 255, 0.5);
        font-size: 1.1rem;
        box-shadow: inset 0 0 8px rgba(0, 229, 255, 0.1),
          0 0 8px rgba(0, 229, 255, 0.1);
        letter-spacing: 0.5px;
        backdrop-filter: blur(2px);
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 25.3] ‚Üí üßä Sprint/Timer Entries (Frosted Neon Card)
   ================================================================== */
      #sprint-history-list li {
        background: linear-gradient(
          135deg,
          rgba(0, 229, 255, 0.03),
          rgba(255, 255, 255, 0.02)
        );
        padding: 16px 20px;
        border-radius: 14px;
        margin-bottom: 12px;
        border: 1px solid rgba(0, 229, 255, 0.12);
        color: #e0f7fa;
        backdrop-filter: blur(6px);
        box-shadow: inset 0 0 4px rgba(0, 229, 255, 0.05),
          0 0 8px rgba(0, 229, 255, 0.08);
        transition: transform 0.3s ease, box-shadow 0.3s ease,
          background 0.3s ease;
        position: relative;
        font-size: 0.98rem;
        letter-spacing: 0.3px;
        font-family: "Segoe UI", sans-serif;
      }

      #sprint-history-list li:hover {
        transform: translateY(-3px) scale(1.02);
        background: rgba(0, 229, 255, 0.06);
        box-shadow: 0 0 14px rgba(0, 229, 255, 0.3),
          0 0 4px rgba(0, 229, 255, 0.15);
        border-color: #00e5ff66;
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 25.4] ‚Üí Sprint Entry Text (Enhanced Glow Typography)
   ================================================================== */
      #sprint-history-list li span {
        display: block;
        margin-bottom: 5px;
        line-height: 1.5;
        font-size: 0.97rem;
        color: #e0ffff;
        text-shadow: 0 0 3px rgba(0, 255, 255, 0.15);
        letter-spacing: 0.3px;
        font-weight: 500;
        word-break: break-word;
        transition: color 0.3s ease;
      }

      #sprint-history-list li:hover span {
        color: #ffffff;
        text-shadow: 0 0 5px rgba(0, 229, 255, 0.3);
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 25.5] ‚Üí üî∫ Color Highlights (Sprint/Timer)
   ================================================================== */
      #sprint-history-list li span:first-child {
        font-weight: 600;
        font-size: 1rem;
        color: #ffffff;
        text-shadow: 0 0 4px rgba(255, 255, 255, 0.1);
      }

      /* Sprint entries */
      #sprint-history-list li .sprint {
        color: #7df9ff;
        font-weight: bold;
        text-shadow: 0 0 5px rgba(125, 249, 255, 0.3);
      }

      /* Timer entries */
      #sprint-history-list li .timer {
        color: #ffb347;
        font-weight: bold;
        text-shadow: 0 0 5px rgba(255, 179, 71, 0.3);
      }
      /* ================================================================== */

      /* ==================================================================
   [Section 25.6] ‚Üí üåÄ Custom Scrollbar (Vertical Only)
   ================================================================== */
      #sprint-history-list {
        overflow-y: auto;
        overflow-x: hidden; /* üëà disables horizontal scrollbar */
      }

      #sprint-history-list::-webkit-scrollbar {
        width: 8px;
      }

      #sprint-history-list::-webkit-scrollbar-thumb {
        background: linear-gradient(180deg, #00e5ff, #7df9ff);
        border-radius: 12px;
        box-shadow: 0 0 6px rgba(0, 229, 255, 0.4);
        transition: background 0.3s ease;
      }

      #sprint-history-list::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(180deg, #00ffff, #00bcd4);
        box-shadow: 0 0 10px rgba(0, 255, 255, 0.6);
      }

      #sprint-history-list::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.03);
        border-radius: 12px;
      }
      /* ================================================================== */
      @media (max-width: 480px) {
        .container {
          padding-top: 43px; /* Button se neeche dikhane ke liye space */
        }
      }

      #completion-message {
        position: absolute;
        bottom: 10%;
        width: 100%;
        text-align: center;
        font-size: 1.5rem;
        color: #00ff00; /* green for positive vibe */
        display: none;
      }

      /* === [Fullscreen Scroll Lock] === */
      :fullscreen,
      :-webkit-full-screen,
      :-moz-full-screen,
      :-ms-fullscreen {
        overflow: hidden !important;
        height: 100vh !important;
      }

      body:fullscreen,
      html:fullscreen {
        overflow: hidden !important;
        height: 100vh !important;
      }

      body.fullscreen-mode,
      html.fullscreen-mode {
        overflow: hidden !important;
        height: 100vh !important;
      }

      /* ==================================================================
  /* [Section 26] ‚Üí Fullscreen Clock
   ================================================================== */

      /* [Section 26] ‚Üí Fullscreen Clock - Final Premium Design
   ================================================================== */

      #fullscreen-clock {
        position: absolute;
        bottom: 16px;
        right: 20px;
        font-size: 15px;
        font-weight: 600;
        font-family: "JetBrains Mono", "Courier New", monospace;
        color: #ffffffee; /* soft white with slight glow */
        padding: 8px 14px;
        border-radius: 14px;
        background: rgba(255, 255, 255, 0.05); /* ultra-thin glass effect */
        backdrop-filter: blur(8px) saturate(180%);
        -webkit-backdrop-filter: blur(8px) saturate(180%);
        border: 1px solid rgba(255, 255, 255, 0.15);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3),
          inset 0 0 10px rgba(255, 255, 255, 0.05);
        z-index: 9999;
        transition: all 0.4s ease;
        display: none;
        letter-spacing: 0.5px;
      }

      /* ‚úÖ Show clock only in fullscreen */
      #fullscreen-overlay.show #fullscreen-clock {
        display: block;
        animation: slideFadeIn 0.6s ease-out forwards;
      }

      /* ‚úÖ Slide & Fade Animation */
      @keyframes slideFadeIn {
        0% {
          opacity: 0;
          transform: translateY(20px) scale(0.95);
        }
        100% {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      /* ‚úÖ Mobile Friendly Tweak */
      @media (max-width: 600px) {
        #fullscreen-clock {
          font-size: 13px;
          padding: 6px 10px;
          bottom: 12px;
          right: 14px;
          border-radius: 10px;
        }
      }

      /* ==================================================================
   [Section 27] ‚Üí copy log button
   ================================================================== */
      .copy-log-btn {
        position: absolute;
        bottom: 12px;
        right: 12px;
        background-color: #1f1f1f;
        border: 1px solid #444;
        color: #fff;
        border-radius: 50%;
        cursor: pointer;
        font-size: 16px;
        width: 38px;
        height: 38px;
        text-align: center;
        line-height: 38px;
        padding: 0;
        transition: background-color 0.3s ease, transform 0.2s ease;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
        z-index: 99;
      }

      .copy-log-btn:hover {
        background-color: #333;
        transform: scale(1.1);
      }

      /* ‚úÖ Mobile-Friendly */
      @media (max-width: 768px) {
        .copy-log-btn {
          width: 34px;
          height: 34px;
          font-size: 14px;
          line-height: 34px;
          bottom: 10px;
          right: 10px;
        }
      }
    </style>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Fullscreen Button -->
    <button id="fullscreen-btn">‚õ∂ Full Screen</button>

    <!-- App Container -->
    <div class="container">
      <!-- App Title -->
      <h1>‚è± RN Study Sprint</h1>

      <!-- Custom Title Input -->
      <div class="title-setup">
        <input
          type="text"
          id="custom-title-input"
          placeholder="Enter your Sprint Title"
        />
        <button id="save-title-btn">Save Title</button>
      </div>

      <!-- Timer Display -->
      <div class="timer-section">
        <div id="elapsed-time" class="time-block">
          <label>üîÅ Time Spent</label>
          <span>00:00:00</span>
        </div>
        <div id="remaining-time" class="time-block">
          <label> ‚åõ Time Left</label>
          <span>00:00:00</span>
        </div>
        <div class="progress-bar-wrapper">
          <div id="progress-bar" class="progress-bar"></div>
        </div>
      </div>

      <!-- Sprint Goal -->
      <div class="sprint-setup">
        <h2>üéØ Set Sprint Goal</h2>
        <input type="number" id="hours" placeholder="HH" min="0" />
        <input type="number" id="minutes" placeholder="MM" min="0" max="59" />
        <input type="number" id="seconds" placeholder="SS" min="0" max="59" />
        <button id="set-sprint">Set Sprint</button>
      </div>

      <!-- Controls -->
      <div class="controls">
        <button id="start-btn">‚ñ∂Ô∏è Start</button>
        <button id="pause-btn">‚è∏ Pause</button>
        <button id="reset-btn">üîÑ Reset</button>
        <!-- üíæ Timer Mode Save Button -->
        <button id="save-timer-session-btn" class="hidden">
          üíæ Save Timer Session
        </button>
      </div>

      <!-- üìÖ Daily Log (renamed from Sprint History) -->
      <div class="sprint-history">
        <h2>üìÖ Daily Log</h2>
        <ul id="sprint-history-list"></ul>
      </div>
    </div>

    <!-- Session Notes Popup -->
    <div id="notes-popup" class="popup hidden">
      <h2>üìù Sprint Notes</h2>
      <textarea id="notes-text" placeholder="What did you study?"></textarea>
      <button id="save-note-btn">Save Note</button>
    </div>

    <!-- Fullscreen Overlay Display -->
    <div id="fullscreen-overlay" class="hidden">
      <div id="fullscreen-controls" class="hidden">
        <button id="fs-toggle-btn">‚ñ∂Ô∏è</button>
        <button id="music-toggle-btn">üéµ</button>
        <audio id="study-music" src="shiv_stotram.mp3" preload="auto" loop></audio>
        <audio id="start-sound" src="start_timer.mp3" preload="auto"></audio>
        <audio id="end-sound" src="end_timer.mp3" preload="auto"></audio>

        <!-- ‚úÖ NEW LOG BUTTON -->
        <button id="log-toggle-btn" class="fullscreen-btn hidden">üìã</button>
      </div>

      <!-- ‚úÖ Funny pause message -->
      <div id="pause-message" class="hidden">‚è±Ô∏è‚è∏ </div>

      <!-- ‚úÖ Motivational running message -->
      <div id="running-message" class="hidden">
        üî• in Progress‚Ä¶ Keep Pushing.
      </div>

      <!-- ‚úÖ NEW: Completion message for sprint/timer done -->
      <div id="completion-message" class="hidden">
        üéØ Target hit! üí™ Be proud.üîÑ Keep moving. üí™‚úÖ
      </div>

      <h1 id="fullscreen-title">üìò Study Sprint</h1>

      <div id="fullscreen-timer">00:00:00</div>

      <!-- ‚úÖ Step 1: New Fullscreen Clock -->
      <div id="fullscreen-clock">--:--:--</div>
    </div>

    <!-- ‚úÖ Toast Message -->
    <div id="sprint-toast">
      <button id="sprint-toast-close">‚úñ</button>
      <div id="sprint-toast-message"></div>
      <!-- <button id="copy-log-btn" class="copy-log-btn">üìã Copy Log</button> -->
    </div>

    <!-- stylish RN footer  start   -->

    <script>
      (function () {
        // ===== FOOTER CSS =====
        const css = `
  .footer_style {
    position: fixed;
    bottom: 0;
    width: 100%;
    padding: 14px 24px;
    font-family: 'Poppins', sans-serif;
    font-weight: 700;
    font-size: 1.05rem;
    text-align: center;
    background: rgba(10, 10, 20, 0.6);
    backdrop-filter: blur(12px);
    z-index: 9999;
    box-shadow: 0 -3px 25px rgba(0, 255, 255, 0.2);
    text-shadow:
      0 0 5px #ffdd00,
      0 0 10px #ffd700,
      0 0 20px #ffbf00,
      0 0 30px #ffbf00;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    flex-direction: row;
  }

  .footer-divider {
    position: fixed;
    bottom: 50px;
    left: 50%;
    transform: translateX(-50%);
    height: 2px;
    width: 80%;
    z-index: 9998;
    display: flex;
    justify-content: center;
    pointer-events: none;
    margin-bottom: 13px; 
      }

  .footer-divider::before,
  .footer-divider::after {
    content: '';
    flex: 1;
    height: 100%;
    background: linear-gradient(to right, transparent, #00ffffaa);
    animation: growLeft 2.5s ease-in-out infinite;
  }

  .footer-divider::after {
    background: linear-gradient(to left, transparent, #00ffffaa);
    animation: growRight 2.5s ease-in-out infinite;
  }

  @keyframes growLeft {
    0% { transform: scaleX(0); opacity: 0; }
    50% { transform: scaleX(1); opacity: 1; }
    100% { transform: scaleX(0); opacity: 0; }
  }

  @keyframes growRight {
    0% { transform: scaleX(0); opacity: 0; }
    50% { transform: scaleX(1); opacity: 1; }
    100% { transform: scaleX(0); opacity: 0; }
  }

  .footer_style .tag {
    font-weight: 800;
    padding: 2px 6px;
    border-radius: 8px;
    animation: flickerGlow 4s infinite ease-in-out alternate;
    text-shadow: 0 0 6px rgba(255, 255, 255, 0.2);
  }

  .footer_style .emoji {
    display: inline-block;
    animation: bounceUpDown 1.8s ease-in-out infinite;
    transform-origin: center bottom;
    font-size: 1.3rem;
    margin-left: 4px;
  }

  @keyframes rnColor {
    0% { color: #00fff7; text-shadow: 0 0 10px #00fff7; }
    25% { color: #33f0ff; text-shadow: 0 0 12px #33f0ff; }
    50% { color: #00ffcc; text-shadow: 0 0 14px #00ffcc; }
    75% { color: #66ffea; text-shadow: 0 0 16px #66ffea; }
    100% { color: #00fff7; text-shadow: 0 0 18px #00fff7; }
  }

  @keyframes gateColor {
    0% { color: #ff00c8; text-shadow: 0 0 10px #ff00c8; }
    25% { color: #ff33dd; text-shadow: 0 0 12px #ff33dd; }
    50% { color: #ff66e0; text-shadow: 0 0 14px #ff66e0; }
    75% { color: #ff99f2; text-shadow: 0 0 16px #ff99f2; }
    100% { color: #ff00c8; text-shadow: 0 0 18px #ff00c8; }
  }

  @keyframes mernColor {
    0% { color: #ffd700; text-shadow: 0 0 10px #ffd700; }
    25% { color: #ffbf00; text-shadow: 0 0 12px #ffbf00; }
    50% { color: #ff9900; text-shadow: 0 0 14px #ff9900; }
    75% { color: #ffaa33; text-shadow: 0 0 16px #ffaa33; }
    100% { color: #ffd700; text-shadow: 0 0 18px #ffd700; }
  }

  @keyframes flickerGlow {
    0%,18%,22%,25%,53%,57%,100% {
      opacity: 1;
      text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
    }
    20%,24%,55% {
      opacity: 0.75;
      text-shadow: none;
    }
  }

  @keyframes bounceUpDown {
    0%,100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
  }

  .footer_style .rn   { animation: rnColor 6s linear infinite, flickerGlow 4s infinite ease-in-out alternate; }
  .footer_style .gate { animation: gateColor 6s linear infinite, flickerGlow 4s infinite ease-in-out alternate; }
  .footer_style .mern { animation: mernColor 6s linear infinite, flickerGlow 4s infinite ease-in-out alternate; }

  @media (max-width: 480px) {
    .footer_style {
      font-size: 0.72rem;
      padding: 10px 10px;
      flex-direction: row;
      justify-content: center;
      flex-wrap: wrap;
    //   gap: 4px;
    //   max-height:60px;
    }
    .footer_style .tag {
      font-size: 0.72rem;
      padding: 3px 6px;
    }
    .footer_style .emoji {
      font-size: 1rem;
      animation: bounceUpDown 1.6s ease-in-out infinite;
    }

    .footer-divider {

    margin-bottom: 0px; 
      }
  }`;

        const styleTag = document.createElement("style");
        styleTag.textContent = css;
        document.head.appendChild(styleTag);

        // ===== FOOTER HTML =====
        const footer = document.createElement("footer");
        footer.className = "footer_style";
        footer.innerHTML = `
    <span class="tag rn">Made by RN <span class="emoji">üë®‚Äçüéì</span></span> |
    <span class="tag gate">GATE Aspirant <span class="emoji">üéì</span></span> |
    <span class="tag mern">MERN Developer <span class="emoji">üöÄ</span></span>
  `;

        const divider = document.createElement("div");
        divider.className = "footer-divider";

        document.addEventListener("DOMContentLoaded", () => {
          document.body.appendChild(divider);
          document.body.appendChild(footer);

          // === OPTIONAL: YEAR future use ===
          // const yearSpan = document.createElement('span');
          // yearSpan.style.margin = '0 6px';
          // yearSpan.textContent = new Date().getFullYear();
          // footer.insertBefore(yearSpan, footer.querySelector('.rn'));
        });
      })();

      // ================= FULLSCREEN FOOTER LOGIC =================
      document.addEventListener("fullscreenchange", () => {
        const footer = document.querySelector(".footer_style"); // footer div
        if (!footer) return;

        if (document.fullscreenElement) {
          // User has entered fullscreen
          footer.style.display = "none";
        } else {
          // User exited fullscreen
          footer.style.display = "block";
        }
      });
    </script>

    <!-- stylish RN footer  end   -->

    <!-- <script src="script.js"></script> -->
    <script>
      // ===================== Part 1: Variable Initialization =====================
      // Initialize global variables related to time, sprint, and UI elements.
      let elapsedSeconds = 0;
      let sprintGoalSeconds = 0;
      let sprintSet = false;
      let sprintCompleted = false; // ‚úÖ NEW
      let timerInterval = null;
      let customTitle = "";
      let lastDate = getISTDate();
      let sprintStartTime = null;
      let sprintEndTime = null;
      let startedAs = "timer";
      let sprintBreaks = [];
      let timerRunning = false; // ‚úÖ Global flag
      let sprintStartTimeMillis = null; // ‚úÖ Used for real-time elapsed
      let totalPausedMillis = 0; // ‚úÖ Total time timer was paused
      let pauseStartMillis = null; // ‚úÖ When the pause started
      let sprintBreakReasons = []; // ‚úÖ Store reasons for each break
      let sprintEndTimeMillis = null;

      // DOM references for UI elements
      const elapsedTimeDisplay = document.querySelector("#elapsed-time span");
      const remainingTimeDisplay = document.querySelector(
        "#remaining-time span"
      );
      const progressBar = document.getElementById("progress-bar");
      const startBtn = document.getElementById("start-btn");
      const pauseBtn = document.getElementById("pause-btn");
      const resetBtn = document.getElementById("reset-btn");
      const setSprintBtn = document.getElementById("set-sprint");
      const modeStatus = document.getElementById("mode-status");
      const fullscreenBtn = document.getElementById("fullscreen-btn");
      const fullscreenOverlay = document.getElementById("fullscreen-overlay");
      const fullscreenTimer = document.getElementById("fullscreen-timer");
      const titleInput = document.getElementById("custom-title-input");
      const saveTitleBtn = document.getElementById("save-title-btn");
      const fullscreenTitle = document.getElementById("fullscreen-title");
      const pauseMessage = document.getElementById("pause-message");
      const runningMessage = document.getElementById("running-message");
      const sprintToast = document.getElementById("sprint-toast");
      const sprintToastMessage = document.getElementById(
        "sprint-toast-message"
      );
      const sprintToastClose = document.getElementById("sprint-toast-close");
      const fsControls = document.getElementById("fullscreen-controls");
      const fsToggleBtn = document.getElementById("fs-toggle-btn");
      const sprintHistoryList = document.getElementById("sprint-history-list");
      const saveTimerSessionBtn = document.getElementById(
        "save-timer-session-btn"
      );
      const musicToggleBtn = document.getElementById("music-toggle-btn");
      const studyMusic = document.getElementById("study-music");
      const startSound = document.getElementById("start-sound");
      const endSound = document.getElementById("end-sound");

      // ‚úÖ Volume control
      startSound.volume = 0.1;
      endSound.volume = 0.1;

      let fsControlsTimeout = null;
      let isMusicPlaying = false;
      const logToggleBtn = document.getElementById("log-toggle-btn"); // ‚úÖ New Log Button

      // ========== Wake Lock Setup ==========
      // ========== Wake Lock Setup ==========
      // ===================== ‚úÖ Reliable Wake Lock =====================
      let wakeLock = null;

      async function acquireWakeLock() {
        try {
          // Request wake lock
          wakeLock = await navigator.wakeLock.request("screen");
          console.log("‚úÖ WakeLock acquired");

          // Listen for release
          wakeLock.addEventListener("release", () => {
            console.warn("‚ùå WakeLock was released. Retrying...");
            acquireWakeLock(); // Try again
          });
        } catch (err) {
          console.error("‚ö†Ô∏è WakeLock error:", err.name, err.message);
        }
      }

      // Visibility change = re-acquire if user switches back
      document.addEventListener("visibilitychange", () => {
        if (document.visibilityState === "visible") {
          acquireWakeLock();
        }
      });

      // Page load = acquire
      window.addEventListener("load", () => {
        if ("wakeLock" in navigator) {
          acquireWakeLock();
        } else {
          console.warn("‚ùå WakeLock not supported");
        }
      });

      // ===================== Part 2: Window Event Listeners =====================
      // Load saved data from localStorage when the page loads
      window.addEventListener("DOMContentLoaded", () => {
        loadFromLocal();
        updateDisplay();
        renderSprintHistory();
        setInterval(autoResetDaily, 60 * 1000);

        // if (timerRunning) {
        //   startTimer(); // ‚úÖ Start again after refresh
        // }

        // ‚úÖ Only set text if modeStatus element exists
        if (typeof modeStatus !== "undefined" && modeStatus)
          modeStatus.textContent = "Current Mode: Focus";

        requestWakeLock();

        // ‚úÖ Auto-restart timer if it was running before refresh
        const saved = JSON.parse(localStorage.getItem("study_data") || "{}");
        if (saved.timerRunning) {
          startTimer(); // ‚úÖ Restart timer
        }
      });

      // ‚úÖ Step 3: Unlock audio on first click
      window.addEventListener(
        "click",
        () => {
          const startSound = document.getElementById("start-sound");
          const endSound = document.getElementById("end-sound");

          if (startSound && endSound) {
            startSound.muted = true;
            endSound.muted = true;

            // Try playing and pausing to unlock
            startSound
              .play()
              .then(() => {
                startSound.pause();
                startSound.currentTime = 0;
                startSound.muted = false; // ‚úÖ Unmute after unlocking
              })
              .catch((err) => console.log("Start sound unlock error:", err));

            endSound
              .play()
              .then(() => {
                endSound.pause();
                endSound.currentTime = 0;
                endSound.muted = false; // ‚úÖ Unmute after unlocking
              })
              .catch((err) => console.log("End sound unlock error:", err));
          }
        },
        { once: true }
      ); // ‚úÖ Only runs once

      // ===================== Part 3: Timer Functions =====================

      // Start the timer
      function startTimer() {
        if (timerInterval) {
          console.warn("‚è±Ô∏è Already running");
          return;
        }

        if (pauseStartMillis) {
          totalPausedMillis += Date.now() - pauseStartMillis; // ‚úÖ Add this pause duration
          pauseStartMillis = null; // Reset
        }

        if (timerInterval) return;

        timerRunning = true; // ‚úÖ Timer is now running
        saveToLocal(); // ‚úÖ Save this updated status

        // ‚úÖ Play Start Sound
        startSound.currentTime = 0;
        startSound.volume = 0.7;
        startSound.play().catch((err) => {
          console.log("üîá Start sound error:", err.message);
        });

        if (!sprintStartTime) {
          sprintStartTime = getCurrentTime();
        }

        startedAs = sprintSet ? "sprint" : "timer";
        sprintCompleted = false; // ‚úÖ reset

        // ‚úÖ Close ongoing break if restarting

        if (sprintSet && sprintBreaks.length > 0) {
          const last = sprintBreaks[sprintBreaks.length - 1];
          if (last && !last.end) {
            last.end = getCurrentTime();
            const totalBefore = sprintBreaks
              .slice(0, -1)
              .reduce((s, b) => s + b.duration, 0);
            last.duration = elapsedSeconds - totalBefore;

            // ‚úÖ Ask reason after break ends
            let reason = prompt("Break over! üß† Why was this break taken?");
            if (!reason) reason = "Not Provided";
            sprintBreakReasons.push(reason);
          }
        }

        if (!sprintStartTimeMillis) {
          sprintStartTimeMillis = Date.now(); // ‚úÖ Store actual start time
        }

        timerInterval = setInterval(() => {
          elapsedSeconds = Math.floor(
            (Date.now() - sprintStartTimeMillis - totalPausedMillis) / 1000
          );

          updateDisplay();
          saveToLocal();

          if (
            sprintSet &&
            elapsedSeconds >= sprintGoalSeconds &&
            !sprintCompleted
          ) {
            // ‚úÖ End sound
            endSound.currentTime = 0;
            endSound.volume = 0.1;
            endSound.play().catch((err) => {
              console.log("üîá End sound error:", err.message);
            });

            sprintCompleted = true;

            // ‚úÖ Close ongoing break at the moment of completion
            if (sprintBreaks.length > 0) {
              const last = sprintBreaks[sprintBreaks.length - 1];
              if (last && !last.end) {
                last.end = getCurrentTime();
                const totalBefore = sprintBreaks
                  .slice(0, -1)
                  .reduce((s, b) => s + b.duration, 0);
                last.duration = elapsedSeconds - totalBefore;
              }
            }

            pauseTimer();
            sprintEndTime = getCurrentTime();
            sprintEndTimeMillis = Date.now(); // ‚úÖ Real end millis

            saveSprintHistory();
            renderSprintHistory();
            showSprintToast(
              `‚úÖ Sprint "${
                customTitle || "Untitled"
              }" complete! ‚è±Ô∏è ${formatTime(sprintGoalSeconds)}`
            );

            if (pauseMessage) {
              pauseMessage.textContent =
                "üéâ Target hit! üéØ Be proud. üí™ Keep moving. ‚ú®";
              pauseMessage.style.display = "block";
            }
          }
        }, 1000);

        if (pauseMessage) pauseMessage.style.display = "none";
        if (runningMessage && document.fullscreenElement)
          runningMessage.style.display = "block";

        saveTimerSessionBtn.classList.add("hidden");
      }

      // ===================== Part 4: Pause and Reset Functions =====================

      // Pause the timer
      function pauseTimer() {
        pauseStartMillis = Date.now(); // ‚úÖ Save pause start time

        clearInterval(timerInterval);
        timerInterval = null;

        timerRunning = false; // ‚úÖ Timer is now not running
        saveToLocal(); // ‚úÖ Save status

        if (sprintSet && !sprintCompleted) {
          const now = getCurrentTime();
          const last = sprintBreaks[sprintBreaks.length - 1];
          if (last && !last.end) {
            last.end = now;
            const totalBefore = sprintBreaks
              .slice(0, -1)
              .reduce((s, b) => s + b.duration, 0);
            last.duration = elapsedSeconds - totalBefore;
          }

          // ‚úÖ Prompt for reason
          //   let reason = prompt("ü§î Why are you taking this break?");
          //   if (!reason) reason = "Not Provided"; // fallback

          //   sprintBreakReasons.push(reason); // ‚úÖ Store reason
          sprintBreaks.push({ start: now, end: null, duration: 0 }); // ‚úÖ Break log
        }

        saveToLocal();

        if (!sprintSet) saveTimerSessionBtn.classList.remove("hidden");

        if (document.fullscreenElement) {
          if (pauseMessage && !sprintCompleted) {
            pauseMessage.textContent = "Why stop? I'm crying üò≠üíÄ‚è±Ô∏è";
            pauseMessage.style.display = "block";
          }
          if (runningMessage) runningMessage.style.display = "none";
        }
      }

      // Reset the timer
      function resetTimer() {
        pauseTimer();
        elapsedSeconds = 0;
        sprintGoalSeconds = 0;
        sprintSet = false;
        sprintCompleted = false; // ‚úÖ reset
        sprintStartTime = null;
        sprintEndTime = null;
        sprintBreaks = [];

        // ‚úÖ FIX: Also clear sprint-related millis
        sprintStartTimeMillis = null;
        pauseStartMillis = null;
        totalPausedMillis = 0;

        saveTimerSessionBtn.classList.add("hidden");
        saveToLocal();
        updateDisplay();
        renderSprintHistory();
        if (pauseMessage) pauseMessage.style.display = "none"; // ‚úÖ hide on reset
      }

      // ===================== Part 5: Display and Time Formatting Functions =====================

      // Update the display of elapsed and remaining time
      function updateDisplay() {
        elapsedTimeDisplay.textContent = formatTime(elapsedSeconds);
        if (sprintSet) {
          const remaining = Math.max(0, sprintGoalSeconds - elapsedSeconds);
          remainingTimeDisplay.textContent = formatTime(remaining);
          progressBar.style.width = `${calculateProgress()}%`;
          if (fullscreenOverlay.classList.contains("show"))
            fullscreenTimer.textContent = formatTime(remaining);
        } else {
          remainingTimeDisplay.textContent = "00:00:00";
          progressBar.style.width = "0%";
          if (fullscreenOverlay.classList.contains("show"))
            fullscreenTimer.textContent = formatTime(elapsedSeconds);
        }
      }

      // Calculate the progress of the sprint timer
      function calculateProgress() {
        return Math.min(
          100,
          (elapsedSeconds / sprintGoalSeconds) * 100
        ).toFixed(1);
      }

      // Format time in HH:MM:SS format
      function formatTime(sec) {
        const isNegative = sec < 0;
        sec = Math.abs(sec); // ‚úÖ always work with +ve

        const h = String(Math.floor(sec / 3600)).padStart(2, "0");
        const m = String(Math.floor((sec % 3600) / 60)).padStart(2, "0");
        const s = String(sec % 60).padStart(2, "0");

        return `${isNegative ? "-" : ""}${h}:${m}:${s}`;
      }

      // ===================== Part 6: Helper Functions =====================

      // Calculate total break time
      function totalBreakSeconds() {
        return sprintBreaks.reduce((sum, b) => {
          if (b.start && b.end && b.duration && b.duration > 0) {
            return sum + b.duration;
          }
          return sum;
        }, 0);
      }

      // Get current date in IST format
      function getISTDate() {
        return new Date().toLocaleDateString("en-GB", {
          timeZone: "Asia/Kolkata",
        });
      }

      // Get current time in IST format
      function getCurrentTime() {
        return new Date().toLocaleTimeString("en-IN", {
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit",
          hour12: true,
          timeZone: "Asia/Kolkata",
        });
      }

      // ===================== Part 7: Sprint History Functions =====================

      // Save sprint history to localStorage
      function saveSprintHistory() {
        const history = JSON.parse(
          localStorage.getItem("sprint_history") || "[]"
        );
        history.push({
          title: customTitle || "Untitled",
          duration: formatTime(sprintGoalSeconds || elapsedSeconds),
          startTime: sprintStartTime || "Unknown",
          endTime: sprintEndTime || getCurrentTime(),
          date: getISTDate(),
          type: startedAs,
        });
        localStorage.setItem("sprint_history", JSON.stringify(history));
      }

      // Render sprint history from localStorage
      function renderSprintHistory() {
        if (!sprintHistoryList) return;
        sprintHistoryList.innerHTML = "";
        const history = JSON.parse(
          localStorage.getItem("sprint_history") || "[]"
        );
        const grouped = {};
        history.reverse().forEach((entry) => {
          if (!grouped[entry.date]) grouped[entry.date] = [];
          grouped[entry.date].push(entry);
        });
        for (let date in grouped) {
          const dateHeader = document.createElement("li");
          dateHeader.classList.add("date-header");
          date;

          dateHeader.innerHTML = `üìÖ ${date}`;
          sprintHistoryList.appendChild(dateHeader);
          grouped[date].forEach((entry, index, arr) => {
            const li = document.createElement("li");
            const displayIndex = arr.length - index;
            li.innerHTML = `<span>üìå ${displayIndex}. ${entry.title} (${entry.type})</span><span>‚è±Ô∏è ${entry.duration} | ${entry.startTime} ‚Üí ${entry.endTime}</span>`;
            sprintHistoryList.appendChild(li);
          });
        }
      }

      // ===================== Part 8: Auto Reset and Save Functions =====================

      // Automatically reset data at the start of a new day
      function autoResetDaily() {
        const today = getISTDate();
        if (today !== lastDate) {
          elapsedSeconds = 0;
          lastDate = today;
          sprintStartTimeMillis, // ‚úÖ Save millis for persistence
            renderSprintHistory();
          updateDisplay();
        }
      }

      // Save current session data to localStorage
      function saveToLocal() {
        localStorage.setItem(
          "study_data",
          JSON.stringify({
            elapsedSeconds,
            sprintGoalSeconds,
            sprintSet,
            date: getISTDate(),
            customTitle,
            sprintStartTime, // ‚úÖ add this
            sprintEndTime, // ‚úÖ Add this
            sprintBreaks, // ‚úÖ NEW ADD THIS LINE
            timerRunning: !!timerInterval, // ‚úÖ NEW LINE
            timerRunning, // ‚úÖ Save actual global value
            totalPausedMillis,
            pauseStartMillis,
            sprintStartTimeMillis,
            sprintBreakReasons, // ‚úÖ Save reasons
            sprintEndTimeMillis,
          })
        );
      }

      // Load saved session data from localStorage
      function loadFromLocal() {
        const saved = JSON.parse(localStorage.getItem("study_data") || "{}");
        if (saved.date === getISTDate()) {
          elapsedSeconds = saved.elapsedSeconds || 0;
          sprintGoalSeconds = saved.sprintGoalSeconds || 0;
          sprintSet = saved.sprintSet || false;
          customTitle = saved.customTitle || "";
          sprintStartTime = saved.sprintStartTime || null; // ‚úÖ add this
          sprintEndTime = saved.sprintEndTime || null; // ‚úÖ Add this
          sprintStartTimeMillis = null; // ‚úÖ Reset the millis

          sprintBreaks = saved.sprintBreaks || []; // ‚úÖ NEW LINE
          timerRunning = saved.timerRunning || false; // ‚úÖ add this

          titleInput.value = customTitle;
          fullscreenTitle.textContent = customTitle || "Study Sprint";
          totalPausedMillis = saved.totalPausedMillis || 0;
          pauseStartMillis = saved.pauseStartMillis || null;
          sprintStartTimeMillis = saved.sprintStartTimeMillis || null;
          sprintBreakReasons = saved.sprintBreakReasons || []; // ‚úÖ Load back
          sprintEndTimeMillis = saved.sprintEndTimeMillis || null;
        }
      }

      // ===================== Part 9: Button Flashing Function =====================

      // Flash button when clicked
      function flashButton(button) {
        button.classList.add("active-button");
        setTimeout(() => button.classList.remove("active-button"), 500);
      }

      // ===================== Part 10: Event Listeners for Buttons =====================

      // Start button click event
      startBtn.addEventListener("click", () => {
        flashButton(startBtn);
        startTimer();
      });

      // Pause button click event
      pauseBtn.addEventListener("click", () => {
        flashButton(pauseBtn);
        pauseTimer();
      });

      // Reset button click event
      resetBtn.addEventListener("click", () => {
        flashButton(resetBtn);
        resetTimer();
      });

      // Set sprint button click event
      setSprintBtn.addEventListener("click", () => {
        flashButton(setSprintBtn);
        sprintBreaks = []; // ‚úÖ Reset breaks for new sprint
        sprintBreakReasons = []; // ‚úÖ Also reset reasons

        const h = parseInt(document.getElementById("hours").value) || 0;
        const m = parseInt(document.getElementById("minutes").value) || 0;
        const s = parseInt(document.getElementById("seconds").value) || 0;
        const total = h * 3600 + m * 60 + s;
        if (total <= 0) return alert("‚ùå Invalid Sprint Time.");
        sprintGoalSeconds = total;
        sprintSet = true;
        elapsedSeconds = 0;
        sprintStartTime = null;
        sprintCompleted = false;
        updateDisplay();
        saveToLocal();
      });

      // Save title button click event
      saveTitleBtn.addEventListener("click", () => {
        const title = titleInput.value.trim();
        if (!title) return alert("‚ùå Enter a title.");
        customTitle = title;
        fullscreenTitle.textContent = title;
        saveToLocal();
        flashButton(saveTitleBtn);
      });

      // Save session button click event
      saveTimerSessionBtn.addEventListener("click", () => {
        // ‚úÖ Fix for Bug 2:
        if (!timerInterval) {
          sprintEndTime = getCurrentTime(); // Timer paused ‚Üí safe to record end time
          sprintEndTimeMillis = Date.now(); // ‚úÖ ‚úÖ ‚úÖ Add this line
        } else {
          sprintEndTime = null; // Timer running ‚Üí don't assign fake end time
          sprintEndTimeMillis = null; // ‚úÖ Also reset if timer running
        }

        saveSprintHistory(); // Will now use sprintEndTime only if it's valid
        renderSprintHistory();
        showSprintToast("üíæ Timer session saved!");
        saveTimerSessionBtn.classList.add("hidden");
      });

      logToggleBtn.addEventListener("click", () => {
        flashButton(logToggleBtn);

        // ‚úÖ Toggle toast logic
        if (sprintToast.classList.contains("show")) {
          sprintToast.classList.remove("show");
        } else {
          showSprintToast(
            `‚úÖ Sprint "${customTitle || "Untitled"}" complete! ‚è±Ô∏è ${formatTime(
              sprintSet ? sprintGoalSeconds : elapsedSeconds
            )}`
          );
        }
      });

      // ===================== Toast Close Button Functionality =====================
      /// Function to show the toast after the timer completes
      function showToast() {
        const sprintToast = document.getElementById("sprint-toast");

        // Reset the display style before showing the toast again
        sprintToast.style.display = "flex"; // Show the toast (flex)

        // Add the "show" class to trigger the animation
        sprintToast.classList.add("show");

        // Disable buttons or other elements if needed
        const buttons = [
          startBtn,
          pauseBtn,
          resetBtn,
          setSprintBtn,
          saveTitleBtn,
          saveTimerSessionBtn,
        ];
        buttons.forEach((button) => {
          button.style.pointerEvents = "none"; // Disable buttons during toast visibility
        });
      }

      // Timer complete function to show the toast every time
      function timerComplete() {
        if (sprintCompleted) return;

        sprintCompleted = true;

        const sprintToast = document.getElementById("sprint-toast");

        sprintToast.style.visibility = "hidden";
        sprintToast.style.opacity = "0";

        // ‚úÖ Hide running message on completion
        if (runningMessage) runningMessage.style.display = "none";

        // Call showToast() to display the toast after timer completion
        showToast(); // Show the toast when the timer completes
      }

      // ===================== Part 11: Fullscreen Functionality =====================

      // Fullscreen button click event
      fullscreenBtn.addEventListener("click", () => {
        if (!document.fullscreenElement) {
          document.documentElement.requestFullscreen().then(() => {
            fullscreenOverlay.classList.add("show");
            fullscreenBtn.textContent = "‚ùå Exit Fullscreen";
            fullscreenTimer.textContent = sprintSet
              ? formatTime(Math.max(0, sprintGoalSeconds - elapsedSeconds))
              : formatTime(elapsedSeconds);
            fullscreenTitle.textContent = customTitle || "Study Sprint";
            if (timerInterval && runningMessage)
              runningMessage.style.display = "block";
            showAndHideFullscreenControls();
          });
        } else {
          document.exitFullscreen().then(() => {
            fullscreenOverlay.classList.remove("show");
            fullscreenBtn.textContent = "‚õ∂ Full Screen";
            fullscreenBtn.classList.remove("hidden");
            fsControls.classList.remove("hidden");
            if (pauseMessage) pauseMessage.style.display = "none";
            if (runningMessage) runningMessage.style.display = "none";
          });
        }
      });

      // Toggle fullscreen controls
      fsToggleBtn.addEventListener("click", () => {
        if (timerInterval) {
          pauseTimer();
          fsToggleBtn.textContent = "‚ñ∂Ô∏è";
        } else {
          startTimer();
          fsToggleBtn.textContent = "‚è∏";
        }
      });

      // Show and hide fullscreen controls after timeout
      function showAndHideFullscreenControls() {
        fullscreenBtn.classList.remove("hidden");
        fsControls.classList.remove("hidden");
        if (fsControlsTimeout) clearTimeout(fsControlsTimeout);
        fsControlsTimeout = setTimeout(() => {
          if (document.fullscreenElement) {
            fullscreenBtn.classList.add("hidden");
            fsControls.classList.add("hidden");
          }
        }, 3000);
      }

      // Event listeners to show/hide fullscreen controls on user interaction
      document.addEventListener("mousemove", showAndHideFullscreenControls);
      document.addEventListener("touchstart", showAndHideFullscreenControls);

      // ===================== Part 12: Sprint Toast Function =====================

      // Show sprint completion toast with detailed information
      function showSprintToast(message) {
        if (!sprintToast || !sprintToastMessage) return;

        if (message.startsWith("‚úÖ Sprint")) {
          const total = sprintGoalSeconds || elapsedSeconds;

          // ‚úÖ Break Time
          let breakSeconds = 0;
          sprintBreaks.forEach((b) => {
            if (b.start && b.end) {
              const start = new Date(`${getISTDate()} ${b.start}`);
              const end = new Date(`${getISTDate()} ${b.end}`);
              const diff = Math.round((end - start) / 1000);
              breakSeconds += Math.max(0, diff);
            }
          });

          // ‚úÖ Focus Time
          //   const focusSeconds = total - breakSeconds;
          const focusSeconds =
            sprintGoalSeconds - Math.max(0, sprintGoalSeconds - elapsedSeconds);

          const focusFormatted = formatTime(focusSeconds);
          const breakFormatted = formatTime(breakSeconds);
          const totalFormatted = formatTime(total);

          // ‚úÖ Advanced Productivity Logic
          let productivityPercent;

          if (sprintCompleted && sprintStartTimeMillis && sprintEndTimeMillis) {
            const actualDurationSeconds = Math.max(
              1,
              Math.floor((sprintEndTimeMillis - sprintStartTimeMillis) / 1000)
            );
            productivityPercent = (focusSeconds / actualDurationSeconds) * 100;
          } else {
            const nowMillis = Date.now();
            const realElapsedSeconds = Math.max(
              1,
              Math.floor((nowMillis - sprintStartTimeMillis) / 1000)
            );
            productivityPercent = (focusSeconds / realElapsedSeconds) * 100;
          }

          let productivity = "";
          let prodMessage = "";

          if (productivityPercent >= 95) {
            productivity = "üíØ Beast Mode";
            prodMessage = "üèÜ You crushed it!";
          } else if (productivityPercent >= 75) {
            productivity = "üòé Solid Focus";
            prodMessage = "üí™ Keep it up!";
          } else if (productivityPercent >= 50) {
            productivity = "üîÅ Good Try";
            prodMessage = "‚ú® Almost there!";
          } else if (productivityPercent >= 30) {
            productivity = "‚ö†Ô∏è Lost Focus";
            prodMessage = "üò¨ Regroup next time!";
          } else {
            productivity = "üò¥ Breaky Break";
            prodMessage = "‚ùå Focus needed, bro!";
          }

          // üß† Include % in label
          productivity += ` (${productivityPercent.toFixed(1)}%)`;

          // ‚úÖ Logged Time
          const logTime = new Date()
            .toLocaleTimeString("en-IN", {
              timeZone: "Asia/Kolkata",
              hour: "2-digit",
              minute: "2-digit",
              second: "2-digit",
              hour12: true,
            })
            .replace("am", "AM")
            .replace("pm", "PM");

          // ‚úÖ Break Info (HTML)
          const breakInfoHTML =
            sprintBreaks.length === 0
              ? ""
              : sprintBreaks
                  .map(
                    (b, i) =>
                      `<br><span class="toast-break">${i + 1}\u20E3 Break ${
                        i + 1
                      } ‚Äî ${b.start} ‚Üí ${b.end}<br>üìù Reason: ${
                        sprintBreakReasons[i] || "Not Provided"
                      }</span>`
                  )
                  .join("");

          // ‚úÖ Break Info (Plain Text)
          const breakInfoText =
            sprintBreaks.length === 0
              ? "No Breaks"
              : sprintBreaks
                  .map(
                    (b, i) =>
                      `${i + 1}‚É£ Break ${i + 1}: ${b.start} ‚Üí ${
                        b.end
                      }\nüìù Reason: ${sprintBreakReasons[i] || "Not Provided"}`
                  )
                  .join("\n");

          // ‚úÖ Final Plain Text for Clipboard
          const messageText = `‚úÖ Sprint: "${customTitle || "Untitled"}"
‚è±Ô∏è Duration: ${totalFormatted}
üü¢ Start Time: ${sprintStartTime || "--"}
üî¥ End Time: ${sprintCompleted && sprintEndTime ? sprintEndTime : "--"}
‚òï Breaks Taken: ${sprintBreaks.length}
üß† Focus Time: ${focusFormatted} | ‚òï Break Time: ${breakFormatted}
üìä Productivity: ${productivity}
üó£Ô∏è Message: ${prodMessage}
üß≠ Logged at: ${logTime}
${breakInfoText}`;

          // ‚úÖ Final HTML message (with button)
          message = `
      <div class="toast-title">‚úÖ Sprint: "${
        customTitle || "Untitled"
      }"</div><br>
      <div><span class="toast-label">‚è±Ô∏è Duration:</span> ${totalFormatted}</div><br>
      <div><span class="toast-label">üü¢ Start Time:</span> ${
        sprintStartTime || "--"
      }</div>
      <div><span class="toast-label">üî¥ End Time:</span> ${
        sprintCompleted && sprintEndTime ? sprintEndTime : "--"
      }</div><br>
      <div><span class="toast-label">‚òï Breaks Taken:</span> ${
        sprintBreaks.length
      }</div>
      <div><span class="toast-label">üß† Focus Time:</span> ${focusFormatted} | <span class="toast-label">‚òï Break Time:</span> ${breakFormatted}</div><br>
      <div><span class="toast-label">üìä Productivity:</span> ${productivity}</div><br>
      <div><span class="toast-label">üó£Ô∏è Message:</span> ${prodMessage}</div><br>

      ${breakInfoHTML}<br>
      <div><span class="toast-label">üß≠ Logged at:</span> ${logTime}</div><br><br>
      <button id="copy-log-btn" class="copy-log-btn">üìã Copy Log</button>
    `;

          // ‚úÖ Attach message to DOM
          sprintToastMessage.innerHTML = message;

          // ‚úÖ After toast is shown, attach event listener to copy button
          setTimeout(() => {
            const copyBtn = document.getElementById("copy-log-btn");
            if (copyBtn) {
              copyBtn.addEventListener("click", () => {
                navigator.clipboard.writeText(messageText).then(() => {
                  copyBtn.textContent = "‚úÖ Copied!";
                  setTimeout(() => (copyBtn.textContent = "üìã Copy Log"), 2000);
                });
              });
            }
          }, 0);
        }

        sprintToast.classList.add("show");
        sprintToast.classList.remove("hidden");
      }

      // Close the sprint toast
      sprintToastClose.addEventListener("click", () => {
        sprintToast.classList.remove("show");
      });

      // ===================== Part 13: Music Functionality =====================

      // Toggle study music playback
      musicToggleBtn.addEventListener("click", () => {
        if (!isMusicPlaying) {
          studyMusic
            .play()
            .then(() => {
              musicToggleBtn.textContent = "‚è∏Ô∏è";
              isMusicPlaying = true;
            })
            .catch((err) => {
              console.log("Music play error:", err);
              alert("‚ö†Ô∏è Cannot play music. It may be blocked or missing.");
            });
        } else {
          studyMusic.pause();
          musicToggleBtn.textContent = "üéµ";
          isMusicPlaying = false;
        }
      });

      // ===================== Part 14: Fullscreen Clock =====================
      // ‚úÖ Live Indian Clock for Fullscreen (with AM/PM)
      function updateFullscreenClock() {
        const clockElem = document.getElementById("fullscreen-clock");
        if (!clockElem) return;

        let now = new Date().toLocaleTimeString("en-IN", {
          timeZone: "Asia/Kolkata",
          hour12: true,
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit",
        });

        // ‚úÖ Convert am/pm to AM/PM (uppercase)
        now = now.replace("am", "AM").replace("pm", "PM");

        clockElem.textContent = "üïí " + now;
      }

      setInterval(updateFullscreenClock, 1000);

      // =================================================
      // screen on
      document.addEventListener("visibilitychange", () => {
        if (document.visibilityState === "visible") requestWakeLock();
      });
    </script>
  </body>
</html>

